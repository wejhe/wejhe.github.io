<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AKUR - SKAI BCAS</title>
    <link rel="icon" type="image/x-icon" href="/img/favicon.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/driver.js@1.0.1/dist/driver.js.iife.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/driver.js@1.0.1/dist/driver.css"/>
    <link href="/bootstrap-icons.min.css" rel="stylesheet">
</head>
<body onload="welcome()">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="/localforage/dist/localforage.js"></script>
    <script src="/dbconfig.js"></script>
    <script src="/function.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.min.js"></script>

    <div id="certificateNavbar" class="container-fluid bg-light py-3" hidden>
        <div class="container">
            <div class="row">
                <div class="col text-start">
                    <a href="/home.html" type="button" class="btn btn-outline-dark"><i class="bi bi-arrow-left me-2"></i>Back to Home</a>
                </div>
                <div class="col text-end">
                    <button id="unduhSertifikat" onclick="unduhSertifikat('certificate')" class="btn btn-primary" type="button" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-title="Sertifikat wajib diunduh dan ditandatangani oleh Pejabat yang bertanggung jawab dalam pengisian AKUR"><i class="bi bi-envelope-arrow-down-fill me-2"></i>Unduh Sertifikat</button>
                </div>
            </div>
        </div>
    </div>

    <div id="certificateBody" class="container-fluid py-5" hidden>
        <div class="container">
            <div class="row">
                <div class="col-md-2">
                </div>
                <div id="certificate" class="col-md-8 border">
                    <p class="text-center pt-5">
                        <img src="/img/logo-blue.png" height="40px">
                    </p>
                    <h5 class="fw-bold text-center pt-3">Surat Pernyataan Penyerahan Hasil AKUR</h5>
                    <p id="certificateCabang" class="text-center pt-3">
                        Saya yang bertandatangan di bawah ini atas nama KC JATINEGARA JKT
                        <br>menyatakan bahwa seluruh informasi yang saya berikan melalui aplikasi AKUR
                        <br>adalah sah dan benar sesuai dengan keadaan yang sebenarnya.
                    </p>
                    <p id="certificateTanggal" class="text-center pt-3">_______________ , 5 Juni 2024</p>
                    <br>
                    <br>
                    <br>
                    <p class="text-center pt-3">( ____________________________ )</p>
                    <p class="text-center pb-4" style="font-size: smaller; margin-top: -1em;">Tanda Tangan dan Nama Terang</p>
                </div>
                <div class="col-md-2">       
                </div>
            </div>
        </div>
    </div>
    
    <div id="homeNavbar" class="container-fluid bg-light py-3">
        <div class="container">
            <div class="row">
                <div class="col text-start">
                    <a href="/home.html"  id="home" class="btn btn-light" type="button"><i class="bi bi-house-door-fill me-2"></i></a>
                </div>
                <div class="col text-end">
                    <button id="logout" onclick="logout()" class="btn btn-danger me-2" type="button"><i class="bi bi-escape me-2"></i>Keluar</button>
                    <button onclick="onboardHome()" class="btn btn-warning me-2" type="button"><i class="bi bi-question-circle-fill me-2"></i>Bantuan</button>
                    <button id="export" onclick="exportAKUR()" class="btn btn-success" type="button" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-title="Pastikan progress sudah 100% sebelum melakukan ekspor hasil AKUR"><i class="bi bi-envelope-arrow-down-fill me-2"></i>Ekspor Hasil AKUR</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="bantuan" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5">Panduan Pengisian AKUR</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h5 class="fw-bold">Overview</h5>
                    <p>
                        AKUR merupakan sarana self-assessment yang ditujukan kepada seluruh
                        Kantor Cabang untuk mengukur tingkat kinerja dan ketaatan terhadap
                        prosedur yang telah ditetapkan. Anda dapat memulai pengisian setelah
                        berhasil melakukan login dan masuk ke halaman Dashboard.
                    </p>
                    <p>
                        (*) Aplikasi pengisian AKUR ini memanfaatkan sistem penyimpanan
                        sementara dari browser. Seluruh progres pengisian AKUR anda akan
                        tetap tersimpan dan dapat dilanjutkan kembali selama anda tidak
                        menghapus cache browser atau meng-install ulang browser. Data
                        anda hanya akan tersimpan di browser ini, sehingga anda tidak
                        dapat melanjutkan pengisian AKUR di browser lain, atau dengan
                        kata lain anda perlu untuk memulai kembali pengisian AKUR dari
                        nol apabila memutuskan untuk mengganti browser.
                    </p>
                    <h5 class="fw-bold">Persyaratan Sistem</h5>
                    <p>
                        Guna mendapatkan pengalaman terbaik dan menghindari kendala-kendala
                        tertentu, kami merekomendasikan anda untuk menggunakan browser
                        Mozilla Firefox atau Google Chrome versi terbaru serta menonaktifkan
                        fitur auto-delete history/cache pada browser anda.
                    </p>
                    <h5 class="fw-bold">Halaman Dashboard</h5>
                    <p>
                        Halaman Dashboard terdiri dari top navigation bar dan badan halaman
                        yang memuat informasi serta fitur-fitur berikut:
                    </p>
                        <ul class="fw-bold mb-0">Keluar</ul>
                        <ul>
                            Klik tombol KELUAR untuk logout dari sistem pengisian AKUR.
                            Progres pengisian AKUR anda akan tetap tersimpan selama anda
                            tidak menghapus cache browser atau meng-install ulang browser.
                        </ul>
                        <ul class="fw-bold mb-0">Bantuan</ul>
                        <ul>
                            Klik tombol BANTUAN untuk membuka pop-up informasi terkait
                            prosedur dan tata cara pengisian AKUR.
                        </ul>
                        <ul class="fw-bold mb-0">Ekspor Hasil AKUR</ul>
                        <ul>
                            Klik tombol EKSPOR HASIL AKUR untuk mengekspor data hasil pengisian
                            AKUR anda ke dalam file JSON (.json) untuk kemudian dikirimkan ke
                            Satuan Kerja Audit Internal (SKAI) guna diproses lebih lanjut.
                            Anda hanya dapat mengekspor hasil AKUR setelah seluruh kuesioner terisi
                            dan overall progres anda bernilai 100%.
                        </ul>
                        <ul class="fw-bold mb-0">Overall Progress</ul>
                        <ul>
                            Komponen ini memuat informasi progres pengisian AKUR secara keseluruhan,
                            sehingga anda dapat memantau sejauh mana pengisian AKUR telah diselesaikan.
                        </ul>
                        <ul class="fw-bold mb-0">Reset Data</ul>
                        <ul>
                            Anda dapat mengklik tombol RESET DATA yang berada di dalam komponen
                            Overall Progress untuk menghapus seluruh data yang telah anda isikan
                            ke dalam sistem, sehingga anda dapat dan perlu untuk memulai kembali
                            pengisian AKUR dari nol.
                        </ul>
                        <ul class="fw-bold mb-0">Item COSO</ul>
                        <ul>
                            Terdapat 5 item COSO yang masing-masing terdiri dari sejumlah kuesioner.
                            Anda dapat memantau progres pengisian untuk masing-masing item COSO melalui
                            komponen badge berwarna merah. Klik tombol BUKA untuk membuka daftar
                            kuesioner yang terdapat pada masing-masing item COSO.
                        </ul>
                        <h5 class="fw-bold">Halaman COSO</h5>
                        <p>
                            Halaman COSO akan terbuka setelah anda mengklik tombol BUKA pada salah
                            satu item COSO di halaman Dashboard. Pada halaman ini, anda dapat melihat
                            daftar seluruh kuesioner dari item-item COSO beserta dengan progres
                            pengisiannya, mulai dari progres overall, progres per item COSO, dan
                            progres untuk masing-masing kuesioner.
                        </p>
                        <ul class="fw-bold mb-0">Tombol Home</ul>
                        <ul>
                            Klik tombol HOME untuk kembali ke halaman Dashboard. Selain itu, anda
                            juga dapat melihat overall progress anda tepat di sebelah komponen ini.
                        </ul>
                        <ul class="fw-bold mb-0">Tab COSO</ul>
                        <ul>
                            Anda dapat berpindah antar item COSO dengan mudah melalui fitur tab
                            dengan mengklik salah satu item COSO untuk membuka daftar kuesioner
                            pada item COSO tersebut. Selain itu, anda juga dapat melihat progres
                            masing-masing item COSO di komponen ini.
                        </ul>
                        <ul class="fw-bold mb-0">Daftar Kuesioner</ul>
                        <ul>
                            Anda dapat melihat daftar kuesioner dari item COSO beserta deskripsi
                            dan progres pengisiannya pada komponen ini. Masing-masing kuesioner
                            setidaknya memiliki 3 aktivitas utama, ditandai dengan "0/3" pada
                            progres pengisian kuesioner. Klik pada masing-masing kuesioner
                            untuk membuka halaman Aktivitas.
                        </ul>
                        <h5 class="fw-bold">Halaman Aktivitas</h5>
                        <p>
                            Halaman Aktivitas akan terbuka setelah anda mengklik salah satu item
                            Kuesioner di halaman COSO. Pada halaman ini, anda dapat melihat
                            sejumlah formulir aktivitas yang harus anda isi sebagai bentuk
                            self assessment.
                        </p>
                        <ul class="fw-bold mb-0">Deskripsi Aktivitas</ul>
                        <ul>
                            Anda dapat melihat deskripsi aktivitas di bagian atas pada
                            masing-masing item aktivitas.
                        </ul>
                        <ul class="fw-bold mb-0">Toggle Aktivitas</ul>
                        <ul>
                            Aktifkan toggle (hingga muncul warna biru) apabila Kantor Cabang
                            anda telah melakukan aktivitas tersebut sesuai dengan prosedur
                            yang berlaku. Apabila belum dilakukan, posisikan toggle pada
                            posisi off dengan cara mengklik toggle hingga berwarna abu-abu.
                        </ul>
                        <ul class="fw-bold mb-0">Rencana Tindak Lanjut</ul>
                        <ul>
                            Jika anda menonaktifkan toggle, maka anda perlu mengisi kolom
                            Rencana Tindak Lanjut yang memuat rencana yang akan anda lakukan
                            guna memenuhi aktivitas terkait. Anda dapat menyesuaikan ukuran
                            kolom dengan cara klik dan drag bagian pojok kanan bawah kolom.
                        </ul>
                        <ul class="fw-bold mb-0">Target Perbaikan</ul>
                        <ul>
                            Jika anda menonaktifkan toggle, maka anda perlu mengisi kolom
                            Target Perbaikan yang memuat target (berupa tanggal) yang akan anda
                            tetapkan dalam melakukan proses perbaikan atau tindak lanjut. Klik
                            ikon kalender untuk memilih target perbaikan anda.
                        </ul>
                        <ul class="fw-bold mb-0">Bukti Pelaksanaan</ul>
                        <ul>
                            Jika anda mengaktifkan toggle, maka anda perlu mengisi kolom
                            Bukti Pelaksanaan dengan cara mengunggah dokumen atau file yang
                            dapat menjadi bukti sah atas pelaksanaan aktivitas terkait.
                            Klik browse file untuk mengunggah bukti anda. Aplikasi ini dapat
                            menerima seluruh jenis file, mulai dari PDF, JPG, PNG, XLSX, DOCX,
                            dan file-file dengan ekstensi lainnya. Apabila anda perlu mengunggah
                            lebih dari 1 bukti, silahkan satukan bukti-bukti anda ke dalam 1 file ZIP/RAR.
                        </ul>
                        <ul class="fw-bold mb-0">Tombol Simpan</ul>
                        <ul>
                            Klik tombol SIMPAN untuk menyimpan hasil isian anda. Tombol SIMPAN hanya akan
                            aktif setelah anda mengisi seluruh kolom dengan lengkap. Hasil isian anda
                            akan dikunci setelah anda mengklik tombol SIMPAN, namun anda dapat melakukan
                            koreksi terhadap hasil isian anda dengan mengklik tombol RESET.
                        </ul>
                        <ul class="fw-bold mb-0">Tombol Reset</ul>
                        <ul>
                            Klik tombol RESET untuk menghapus hasil isian anda pada aktivitas
                            terkait. Sebagaimana tombol SIMPAN, tombol RESET hanya akan mempengaruhi
                            aktivitas terkait dan tidak akan mempengaruhi aktivitas lainnya.
                            Jika anda ingin me-reset seluruh data, silahkan klik tombol RESET
                            yang terdapat pada halaman Home.
                        </ul>
                        <ul class="fw-bold mb-0">Navigasi Aktivitas</ul>
                        <ul>
                            Anda dapat berpindah antar aktivitas dengan mudah melalui komponen
                            navigasi yang terletak pada bagian bawah halaman. Selain itu, anda juga
                            dapat mengecek progres pengisian masing-masing aktivitas melalui
                            komponen navigasi ini.
                        </ul>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary">Hubungi Kami</button>
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Tutup</button>
                </div>
            </div>
        </div>
    </div>

    <div id="homeHeader" class="container-fluid py-4">
        <div class="container">
            <div class="row">
                <div class="col">
                    <h3 class="fw-bold" id="welcome"></h3>
                    <p>Silahkan klik pada masing-masing item COSO di bawah untuk memulai pengisian Assessment Kinerja dan Ketaatan Prosedur!</p>
                </div>
                <div class="col">
                    <div id="cardProgress" class="card">
                        <div class="card-body pb-4 px-4">
                            <div class="row">
                                <div class="col text-start">
                                    <label id="progressOverallLabel" for="progressOverall" class="form-label"></label>
                                </div>
                                <div class="col text-end">
                                    <a id="resetButton" type="button" data-bs-toggle="modal" data-bs-target="#resetDataModal" class="text-danger">Reset Data<i class="bi bi-eraser-fill ms-1"></i></a>
                                    <div class="modal fade" id="resetDataModal" tabindex="-1" aria-hidden="true">
                                        <div class="modal-dialog text-start">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h1 class="modal-title fs-5">Konfirmasi Reset Data</h1>
                                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                </div>
                                                <div class="modal-body">
                                                    Seluruh data yang telah anda isikan pada formulir AKUR ini akan dihapus, konfirmasi aksi penghapusan ini?
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
                                                    <button id="buttonResetData" onclick="resetData()" type="button" class="btn btn-primary">Konfirmasi</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="progress" role="progressbar" aria-valuemin="0" aria-valuemax="100" style="height: 24px">
                                <div id="progressOverall" class="progress-bar progress-bar-striped progress-bar-animated bg-success" style="width: 0%;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="homeBody" class="container-fluid">
        <div class="container">
            <div class="row">
                <div class="col">
                    <div class="card position-relative h-100">
                        <span id="progressCOSO1" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"></span>
                        <div class="card-body" style="text-align: center; display: flex; align-items: center; justify-content: center;">
                            <p id="cardCOSO" class="card-text">Pengawasan oleh Manajemen dan Budaya Pengendalian</p>
                        </div>
                        <p class="card-text text-center">
                            <small class="text-body-secondary">COSO - 1</small>
                            <small class="text-body-secondary">(7 Kuesioner)</small>
                        </p>
                        <div class="card-footer bg-white">
                            <a id="buttonCOSO" href="/coso1/home.html" class="btn btn-primary w-100">Buka</a>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card position-relative h-100">
                        <span id="progressCOSO2" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"></span>
                        <div class="card-body" style="text-align: center; display: flex; align-items: center; justify-content: center;">
                            <p class="card-text">Kegiatan<br>Pengendalian</p>
                        </div>
                        <p class="card-text text-center">
                            <small class="text-body-secondary">COSO - 2</small>
                            <small class="text-body-secondary">(1 Kuesioner)</small>
                        </p>                        <div class="card-footer bg-white">
                            <a href="/coso2/home.html" class="btn btn-primary w-100">Buka</a>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card position-relative h-100">
                        <span id="progressCOSO3" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"></span>
                        <div class="card-body" style="text-align: center; display: flex; align-items: center; justify-content: center;">
                            <p class="card-text">Penilaian<br>Risiko</p>
                        </div>
                        <p class="card-text text-center">
                            <small class="text-body-secondary">COSO - 3</small>
                            <small class="text-body-secondary">(5 Kuesioner)</small>
                        </p>                        <div class="card-footer bg-white">
                            <a href="/coso3/home.html" class="btn btn-primary w-100">Buka</a>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card position-relative h-100">
                        <span id="progressCOSO4" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"></span>
                        <div class="card-body" style="text-align: center; display: flex; align-items: center; justify-content: center;">
                            <p class="card-text">Kegiatan<br>Pemantauan</p>
                        </div>
                        <p class="card-text text-center">
                            <small class="text-body-secondary">COSO - 4</small>
                            <small class="text-body-secondary">(2 Kuesioner)</small>
                        </p>                        <div class="card-footer bg-white">
                            <a href="/coso4/home.html" class="btn btn-primary w-100">Buka</a>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card position-relative h-100">
                        <span id="progressCOSO5" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"></span>
                        <div class="card-body" style="text-align: center; display: flex; align-items: center; justify-content: center;">
                            <p class="card-text">Sistem Akuntansi, Informasi dan Komunikasi</p>
                        </div>
                        <p class="card-text text-center">
                            <small class="text-body-secondary">COSO - 5</small>
                            <small class="text-body-secondary">(2 Kuesioner)</small>
                        </p>                        <div class="card-footer bg-white">
                            <a href="/coso5/home.html" class="btn btn-primary w-100">Buka</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="toast-container position-fixed bottom-0 end-0 p-3">
        <div id="loginToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header bg-success text-white">
                <i class="bi bi-info-circle-fill me-2"></i>
                <strong class="me-auto">Notifikasi Sistem</strong>
                <small id="timestamp"></small>
                <script>
                    var timestamp = document.getElementById("timestamp");

                    var now = new Date();
                    var hours = now.getHours().toString();
                    var minutes = now.getMinutes().toString();

                    if (hours.length == 1) {
                        hours = "0" + hours;
                    }

                    if (minutes.length == 1) {
                        minutes = "0" + minutes;
                    }

                    timestamp.innerText = hours + " : " + minutes;
                </script>
            </div>
            <div class="toast-body">
                Anda berhasil login!
            </div>
        </div>
    </div>

    <div class="toast-container position-fixed bottom-0 end-0 p-3">
        <div id="resetToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header bg-success text-white">
                <i class="bi bi-info-circle-fill me-2"></i>
                <strong class="me-auto">Notifikasi Sistem</strong>
                <small id="timestamp"></small>
                <script>
                    var timestamp = document.getElementById("timestamp");

                    var now = new Date();
                    var hours = now.getHours().toString();
                    var minutes = now.getMinutes().toString();

                    if (hours.length == 1) {
                        hours = "0" + hours;
                    }

                    if (minutes.length == 1) {
                        minutes = "0" + minutes;
                    }

                    timestamp.innerText = hours + " : " + minutes;
                </script>
            </div>
            <div class="toast-body">
                Data anda berhasil di-reset!
            </div>
        </div>
    </div>
</body>
</html>